五子棋 初始化：

游戏中心消息自类型
===

ST范围：[50001-59999]

### 约战提示
当用户发起小游戏邀约时候，会收到这个CMD。

```json
{
  "CTT": 403,
  "ST": 50001,
  "M": {
    "desc": "", // 约战文案
     "games": [
            {"icon":"http://img.gank.tv/1.jpg","link":"http://download","version":"100 " },
             {"icon":"http://img.gank.tv/1.jpg","link":"http://download","version":"100"}
        ] # 截图文件URL列表  [ 图标，连接，游戏id，游戏版本号]
  }
} 
```



### 游戏邀约
两个用户都收到该消息，用于显示im 倒计时60s

```json

"CTT": 403,
  "ST": 50002,
  "M": {
    "desc": "", // 邀约状态文案，
    "game_id": "", // 游戏id，
    "name": "", // 游戏标题，
    "vs_id": "", // 约战id，
    "status": "", // 邀约状态，1： 拒绝 2： 失效 3： 未接受 4：等待  5：接受
  }

```

### 游戏结果
游戏结束，推送游戏结果给两个用户

```json

"CTT": 403,
  "ST": 50003,
  "M": {
    "result": "", // 游戏状态：胜利，失败，平局
    "game_id": "", // 游戏id，
    "vs_id": "", // 约战id，
    "record": "", // 今日已约战场次
    "score": "", // 分数，
    "compare_desc": "", // 文案：已超过90%用户 ，
    "victory_desc": "", // 连胜文案 ，
    "users":[ {"user_id":'123"',"pk":2}],//对战pk分数，
  }

```

### 接受邀约cmd
游戏结束，推送游戏结果给两个用户

```json

"CTT": 403,
  "ST": 50003,
  "M": {
    "result": "", // 游戏状态：胜利，失败，平局
    "game_id": "", // 游戏id，
    "vs_id": "", // 约战id，
    "record": "", // 今日已约战场次
    "score": "", // 分数，
    "compare_desc": "", // 文案：已超过90%用户 ，
    "victory_desc": "", // 连胜文案 ，
    "users":[ {"user_id":'123"',"pk":2}],//对战pk分数，
  }

```


用于小游戏中 广播通讯协议：

51001 ： 申请悔棋


51002： 没有获取到房间信息
room_id

51003：申请悔棋 

51004： 悔棋 
x:1
y:2
c:-1

51005： ready 
51006： start
51007：
51009：
51010：
51011：
51012：
51013：
51014：
51015：
51016：
51017：
51018：
51019：
51020：



”约战过于频繁，请稍后重试“
 
DROP TABLE IF EXISTS `flash_game`;
CREATE TABLE `flash_game` (
  `id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `status` int(4) NOT NULL DEFAULT '0' COMMENT '1:进行中 2：求和 3：认输 4：平局',
  `allow_undo` int(4) NOT NULL DEFAULT '1' COMMENT '是否可申请悔棋',
  `game_record` varchar(225) NOT NULL DEFAULT '',
  `create_time`         int(11)            NOT NULL COMMENT '创建时间',
  `update_time`         int(11)             NOT NULL COMMENT '更新时间',
    `comment` varchar(64) NULL COMMENT '游戏信息',
    `name` varchar(64) NOT NULL COMMENT  '游戏名称',
    `version` int(11) NOT NULL COMMENT '版本信息',
    `game_status` int(11) NOT NULL COMMENT '游戏状态'
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;
 

DROP TABLE IF EXISTS `flash_games`;
CREATE TABLE `flash_games` (
  `id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `create_time`         int(11)            NOT NULL COMMENT '创建时间',
  `update_time`         int(11)             NOT NULL COMMENT '更新时间',
    `comment` varchar(64) NULL COMMENT '游戏信息',
    `name` varchar(64) NOT NULL COMMENT  '游戏名称',
    `version` int(11) NOT NULL COMMENT '版本信息',
    `game_status` int(11) NOT NULL COMMENT '游戏状态'
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `game_records`;
CREATE TABLE `game_records` (
  `id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `game_id`  int(11) NOT NULL DEFAULT '0',
  `create_time`         datetime            NOT NULL COMMENT '创建时间',
  `update_time`         datetime            NULL COMMENT '更新时间',
  `users` varchar(64) NOT NULL COMMENT '该游戏玩家id',
  `tid` smallint(6) NOT NULL DEFAULT '0' COMMENT '比赛id',
  `user_id` int(11) NOT NULL DEFAULT '0' COMMENT 'A玩家，发起邀请者',
  `result` int(11) DEFAULT '0' COMMENT 'A赢 ：1 A输：2 平局 ：3'
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;


 