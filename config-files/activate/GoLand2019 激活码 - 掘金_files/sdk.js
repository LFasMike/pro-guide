var Slardar=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t}function h(t){return"object"===e(t)&&null!==t&&!m(t)}function f(t){return"function"==typeof t}function d(t){return"[object String]"===Object.prototype.toString.call(t)}function m(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){return"number"==typeof t}function o(){if(!("fetch"in window))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function a(){return!!h(window)}function t(){return!!a()&&!!h(window.performance)}function _(){return!!t()&&!!h(window.performance.timing)}function i(){return!!t()&&!!f(window.performance.getEntries)}Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(e=arguments[1]),n=0;n<o;){var i=void 0;n in r&&(i=r[n],t.call(e,i,n,r)),n++}}),function(){if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){t.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}};var e=window.URL||window.webkitURL||window.mozURL;t.createObjectURL=function(t){return e.createObjectURL.apply(e,[t])},t.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,[t])},Object.defineProperty(t.prototype,"toString",{enumerable:!1}),window.URL=t}function t(t,e){if(!t)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(e){var r=n.createElement("base");r.href=e,n.head.appendChild(r)}var o=n.createElement("a");if(o.href=t,n.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}}(),function(){if(!Element.prototype.addEventListener){var a=[],t=function(t,e){function n(t){t.target=t.srcElement,t.currentTarget=r,void 0!==e.handleEvent?e.handleEvent(t):e.call(r,t)}var r=this;if("DOMContentLoaded"===t){var o=function(t){"complete"===document.readyState&&n(t)};if(document.attachEvent("onreadystatechange",o),a.push({object:this,type:t,listener:e,wrapper:o}),"complete"===document.readyState){var i=new Event;i.srcElement=window,o(i)}}else this.attachEvent("on"+t,n),a.push({object:this,type:t,listener:e,wrapper:n})},e=function(t,e){for(var n=0;n<a.length;){var r=a[n];if(r.object===this&&r.type===t&&r.listener===e){"DOMContentLoaded"===t?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+t,r.wrapper),a.splice(n,1);break}++n}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=e,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=e),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=e)}}();var s=(u.prototype._send=function(t){},u.prototype.setupTransport=function(t){var e=this;this._transport=t,this._sendQueue.forEach(function(t){e._sendEvent(t)}),this._sendQueue=[]},u);function u(t){var n=this;this._setupMonitors=function(t){return t.forEach(function(t){t.setup(n._sendEvent)}),t},this._sendEvent=function(t){if(n._transport){var e=n._modifyEvent(t);n._shouldSend(e)&&n._idleSendEvent(e)}else n._sendQueue.push(t)},this._modifyEvent=function(t){return t},this._shouldSend=function(t){return!0},this._getIdle=function(){return f(window.requestIdleCallback)?window.requestIdleCallback:f(setTimeout)?setTimeout:function(t){t()}},this._idleSendEvent=function(t){n._getIdle()(function(){n._send(t)})},this._options=t,this._sendQueue=[],this._monitors=this._setupMonitors(t.defaultMonitors||[])}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g(t,e){var n,r;if(void 0===t.length)for(n in t)v(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0;r<t.length;)n=w(n,t[r]),r++;return n}function w(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(h(t[n])&&h(e[n])?w(t[n],e[n]):!h(t[n])&&h(e[n])?t[n]=w({},e[n]):t[n]=e[n]);return t}function S(t,e){if(!m(t))return!1;if(0===t.length)return!1;for(var n=0;n<t.length;){if(t[n]===e)return!0;n++}return!1}function b(t){var n,e=function(t){if(!h(t))return{};var n={};return g(t,function(t,e){h(e)||m(e)?n[t]=JSON.stringify(e):n[t]=e}),n}(t),r=(n={},g(e,function(t,e){n[encodeURIComponent(t)]=encodeURIComponent(e)}),n),o=[];return g(r,function(t,e){o.push(t+"="+e)}),o.join("&")}function E(t){var e=document.createElement("a");e.href=t;var n=e.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:e.href,protocol:e.protocol.slice(0,-1),hostname:e.hostname,host:e.host,pathname:n,hash:e.hash}}function P(t){}function k(t){return f(t)?t:P}function C(t){"complete"!==document.readyState?window.addEventListener("load",function(){setTimeout(function(){t()},0)},!1):t()}function L(t){if(!t)return"";if(!f(t.forEach))return"";var e=[];return t.forEach(function(t){e.push(t[0]+": "+t[1])}),e.join("\r\n")}function M(t){var e={},n=E(t);return e.ax_protocol=n.protocol,e.ax_domain=n.hostname,e.ax_path=n.pathname,e.ax_url=n.href||t,e}function j(t,e){var n,r;if(!t||!e)return"";var o=t.split(";"),i={};try{for(var a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(o),s=a.next();!s.done;s=a.next()){var c=s.value.split("="),u=d(c[0])&&c[0].trim();u&&d(c[1])&&(i[u]=c[1].trim())}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i[e]||""}function x(t){return m(t)&&t.length?function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o=t[r];d(o)?e.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(t):null}function R(){var t=function(){for(var t=new Array(16),e=0,n=void 0;e<16;e++)0==(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);var r=0;return[e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]]].join("")}(t)}var H=["/log/sentry/"],T="i.snssdk.com",A="SLARDAR_WEB_ID",q=R(),O=R(),U=(D.prototype.postEvent=function(t){var e=l(l({},t),this._getCommonParams());D.post(this._url,e)},D.prototype.getEvent=function(t){var e=b(l(l({},t),this._getCommonParams())),n=this._url+"?"+e;D.get(n)},D.post=function(t,e,n){var r=n?k(n.success):P,o=n?k(n.fail):P,i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(e)),i.addEventListener("load",function(){try{if(this.responseText){var t=JSON.parse(this.responseText);r(t)}else r()}catch(t){o()}}),i.addEventListener("error",function(){o()}),i.addEventListener("abort",function(){o()})},D.get=function(t,e){var n=e?k(e.success):P,r=e?k(e.fail):P,o=new XMLHttpRequest;o.open("GET",t),o.send(),o.addEventListener("load",function(){try{if(this.responseText){var t=JSON.parse(this.responseText);n(t)}else n()}catch(t){r()}}),o.addEventListener("error",function(){r()}),o.addEventListener("abort",function(){r()})},D.prototype._getUrl=function(){return"https://"+(this._options.reportDomain||T)+"/log/sentry/v2/api/slardar/main/"},D.prototype._getCommonParams=function(){return{timestamp:Date.now()}},D);function D(t){this._options=t||{},this._url=this._getUrl()}function F(){return f(Date)?Math.round(Date.now()/1e3):0}function z(t,n){if(!h(t))return{};if(!f(n))return{};var r={};return g(t,function(t,e){n(e)&&(r[t]=e)}),r}function I(t){var e,n,r,o,i,a,s=null;return h(t)&&("timer"===t.type&&(s=h(e=t.event)&&d(e.name)&&c(e.value)?{metrics_type:"timer",event_name:"default",metrics:((n={})[e.name]=e.value,n),category:z(e.tags,d),timestamp:F()}:{}),"counter"===t.type&&(s=h(r=t.event)&&d(r.name)&&c(r.value)?{metrics_type:"counter",event_name:"default",metrics:((o={})[r.name]=r.value,o),category:z(r.tags,d),timestamp:F()}:{}),"log"===t.type&&(s=h(i=t.event)&&d(i.value)?{metrics_type:"log",event_name:"default",log_content:i.value,log_level:i.level||"info",category:z(i.tags,d),timestamp:F()}:{}),"custom"===t.type&&(s=h(a=t.event)&&d(a.event_name)?{metrics_type:"custom",event_name:a.event_name,metrics:z(a.metrics,c),category:z(a.tags,d),timestamp:F()}:{})),s}var W,X,B,N=(n(X=Q,B=W=s),X.prototype=null===B?Object.create(B):(J.prototype=B.prototype,new J),Q.prototype.setupTransport=function(){var t=new U({reportDomain:this._options.commonParams.report_domain});W.prototype.setupTransport.call(this,t)},Q.prototype._send=function(t){var e=t.event||{};e=l(l({},e),this._normalizeCommonParams(this._options.commonParams||{})),this._options.custom&&f(this._options.custom.beforeSend)&&!(e=this._options.custom.beforeSend(e))||("get"!==t.type?"post"===t.type&&this._transport.postEvent(e):this._transport.getEvent(e))},Q.prototype._sendPageview=function(){f(this._sendEvent)&&this._sendEvent({name:"PageView",type:"get",event:{ev_type:"pageview"}})},Q.prototype.emitEvent=function(t){var e=I(t);this._emitSingleEvent(e)},Q);function J(){this.constructor=X}function Q(){var u=null!==W&&W.apply(this,arguments)||this;return u.sendEvent=function(t){f(u._sendEvent)&&u._sendEvent(t)},u._shouldSend=function(t){var e=t.name,n=t.event;if(!t.event)return!1;if("AjaxMonitor"===e||"FetchMonitor"===e){var r=x(H);if(r&&r.test(n.ax_url))return!1;var o,i=u._options.monitors.AjaxMonitor.whitelistUrls;if(m(i)&&0<i.length){var a=x(u._options.monitors.AjaxMonitor.whitelistUrls||[]);return!(!a||!a.test(n.ax_url))}if((o=x(u._options.monitors.AjaxMonitor.ignore||[]))&&o.test(n.ax_url))return!1;if(!u._options.monitors.AjaxMonitor.hookFetch)return!1}if("StaticErrorMonitor"===e&&((o=x(u._options.monitors.StaticErrorMonitor.ignore||[]))&&o.test(n.st_src)))return!1;if("PathMonitor"!==e)return"HijackMonitor"!==e||Math.random()<u._options.monitors.HijackMonitor.sampleRate;var s=u._options.plugins;return!!(s&&s.spa&&s.spa.enable&&n.type===s.spa.type)},u._modifyEvent=function(t){var e=t.name,n=t.type,r=t.event,o=l({},r);if("PerformanceMonitor"!==e)return"PathMonitor"===e?(u._options.plugins.spa.enable&&u._options.plugins.spa.type===o.type&&(u.updateConfig({commonParams:{pid:o.path}}),delete o.type,delete o.path),{}):t;var i=u._options.monitors.PerformanceMonitor;if(!_())return{};var a=window.performance.timing,s=a.loadEventEnd-a.navigationStart>i.slowSessionTime;if(o.resources&&m(o.resources)){var c=x(u._options.monitors.PerformanceMonitor.geckoUrls||[]);g(o.resources,function(t,e){h(o.resources[t])&&f(o.resources[t].toJSON)&&(o.resources[t]=o.resources[t].toJSON(),o.resources[t].is_gecko=c&&c.test(e.name||"")?"1":"0")})}return Math.random()<i.resourceSampleRate?o=l(l({},o),{upload_reason:"sample",resource_samplerate:u._options.monitors.PerformanceMonitor.resourceSampleRate}):s?o=l(l({},o),{upload_reason:"slow_session"}):delete o.resources,{name:e,type:n,event:o}},u._normalizeOptions=function(t){return y({},u._options,t)},u._normalizeCommonParams=function(t){var e=l({},t);return h(t.context)&&(e.context=JSON.stringify(t.context)),e||{}},u.updateConfig=function(t){var e=u._options.commonParams.pid;u._options=u._normalizeOptions(t),t.commonParams.pid!==e&&u._sendPageview()},u.sendPageview=function(){u._sendPageview()},u.sendCustomTimeLog=function(t,e,n){!function(t,e){var n=t.name,r=t.tag,o=t.value;if(n){var i={ev_type:"custom",cm_name:n,cm_type:"time",cm_value:+o};r&&(i.cm_tag=r),e({name:"SentCustomTime",type:"get",event:i})}}({name:t,tag:e,value:n},u._sendEvent)},u.sendCustomCountLog=function(t,e){!function(t,e){var n=t.name,r=t.tag;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"count"};r&&(o.cm_tag=r),e({name:"SentCustomCount",type:"get",event:o})}}({name:t,tag:e},u._sendEvent)},u._emitSingleEvent=function(t){t&&(t&&!t.event_name||f(u._sendEvent)&&u._sendEvent({name:"Emit",type:"post",event:{ev_type:"flexible",flexible_data_list:[t]}}))},u}var $=function(){var i=this;this.name="StaticErrorMonitor",this.setup=function(t){a()&&(i._callback=t,window.addEventListener("error",i.staticErrorLog,!0))},this._getParams=function(t,e){var n={ev_type:"static",st_type:e},r=E(t);return n.st_src=t,n.st_protocol=r.protocol,n.st_domain=r.hostname,n.st_path=r.pathname,n},this.getSrc=function(t){return t&&f(t.getAttribute)?t.getAttribute("src"):t.src||t.href||""},this.staticErrorLog=function(t){var e,n=t||window.event||{};try{e=n.target||n.srcElement||{}}catch(n){return}var r=i.getSrc(e),o=e.tagName&&e.tagName.toLowerCase()||"";r&&o&&r!==window.location.href&&f(i._callback)&&i._callback({name:i.name,type:"get",event:i._getParams(r,o)})}},G=(V.prototype.setup=function(t){f(XMLHttpRequest)&&(this._callback=t,this._start())},V.prototype._hookXMLHttpRequestOnreadystatechange=function(r){var o=this.onreadystatechange,i=this;this.onreadystatechange=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(4===this.readyState){var n={ev_type:"ajax",ax_status:this.status,ax_type:i._method,ax_request_header:L(i._requestHeaders||[])};n.ax_duration=Date.now()-i._start,200===this.status&&(n.ax_size=function(t){var e=0;if(""===t.responseType||"text"===t.responseType)e=K(t.responseText);else if(t.response)e=K(t.response);else try{e=K(t.responseText)}catch(t){e=0}return e}(this)),"function"==typeof this.getAllResponseHeaders&&(n.ax_response_header=this.getAllResponseHeaders()),n=l(l({},n),M(i._url)),f(r._callback)&&r._callback({name:r.name,type:"get",event:n})}if(o)return o.apply(this,t)}},V);function V(){var t=this;this.name="AjaxMonitor",this._start=function(){t._hookXMLHttpRequestOpen(),t._hookXMLHttpRequestSend(),t._hookXMLHttpRequestSetRequestHeader()},this._hookXMLHttpRequestSetRequestHeader=function(){var n=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(t),n.apply(this,t)}},this._hookXMLHttpRequestOpen=function(){var o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];return this._url=r&&r.split("?")[0]||"",this._method=n&&n.toLowerCase()||"",o.apply(this,t)}},this._hookXMLHttpRequestSend=function(){var n=t,r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n._hookXMLHttpRequestOnreadystatechange.call(this,n),this._start=Date.now(),r.apply(this,t)}}}function K(t){var e="[object String]"===Object.prototype.toString.call(t);return t?e?t.length:ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:window.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}var Y=function(){var c=this;this.name="FetchMonitor",this.setup=function(t){o()&&(c._callback=t,c._start())},this._start=function(){o()&&c._hookFetch()},this._hookFetch=function(){var a=c,s=window.fetch;window.fetch=function(e,n){n=n||{};var r=Date.now(),o={ev_type:"ajax"},t=c._getFetchUrl(e),i=c._getFetchMethod(e);return o.ax_type=(n.method||i).toLowerCase(),o=l(l({},o),M(t)),s(e,n).then(function(t){return o.ax_status=t.status,o.ax_duration=Date.now()-r,o.ax_response_header=a._getAllResponseHeaders(t),o.ax_request_header=a._getFetchHeaders(e,n),t.headers&&f(t.headers.has)&&t.headers.has("content-length")?o.ax_size=Number(t.headers.get("content-length"))||0:o.ax_size=0,f(a._callback)&&a._callback({name:a.name,type:"get",event:o}),t},function(t){return o.ax_status=0,o.ax_size=0,o.ax_duration=Date.now()-r,f(a._callback)&&a._callback({name:a.name,type:"get",event:o}),Promise.reject(t)})}},this._getFetchUrl=function(t){var e="";return e=d(e=t instanceof Request?t.url:t)?e.split("?")[0]:e},this._getFetchMethod=function(t){var e="get";return t instanceof Request&&(e=t.method),e},this._getFetchHeaders=function(t,e){var n="";if(t instanceof Request)return n=c._getAllResponseHeaders(t);if(e&&e.headers){if(e.headers instanceof Headers)return n=c._getAllResponseHeaders(e);if(e.headers instanceof Array)return n=L(e.headers);if(e.headers instanceof Object){var r=[];for(var o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&r.push([o,e.headers[o]]);return n=L(r)}}return n},this._getAllResponseHeaders=function(t){if(!t||!t.headers||"function"!=typeof t.headers.forEach)return"";var n=[];return t.headers.forEach(function(t,e){n.push(e+": "+t)}),n.join("\r\n")}},Z=[],tt=function(){var e=this;this.name="StaticPerformanceMonitor",this.setup=function(t){i()&&(e._callback=t,C(function(){return e._sendPerformance()}))},this._sendPerformance=function(){if(i()){var t=e._getParams();f(e._callback)&&e._callback({name:e.name,event:t})}},this._getParams=function(){return{resources:e._getResources()}},this._getResources=function(){return i()?window.performance.getEntriesByType("resource").filter(function(t){return!S(Z,t.initiatorType)}):[]}},et=0,nt=["ms","moz","webkit","o"];var rt={getRaf:function(){for(var t=window.requestAnimationFrame,e=0;e<nt.length&&!t;++e)t=window[nt[e]+"RequestAnimationFrame"];return t=t||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-et)),r=window.setTimeout(function(){t(e+n)},n);return et=e+n,r}},getCaf:function(){for(var t=window.cancelAnimationFrame,e=0;e<nt.length&&!t;++e)t=window[nt[e]+"CancelAnimationFrame"]||window[nt[e]+"CancelRequestAnimationFrame"];return t=t||function(t){clearTimeout(t)}}},ot=function(){var e=this;this.name="FirstScreenMonitor",this.setup=function(t){a()&&(e._callback=t,e._start())},this._start=function(){var o,i=rt.getRaf(),a=rt.getCaf(),s=!1,c=(window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)||0,u=[],l=!1,h=!1,p=e;function d(){var t,e;if(l){if(u.length&&!h)for(t=0;t<u.length;t++){if(!(e=u[t]).complete){h=!1;break}h=!0}else h=!0;if(h)return s||(s=!0,f(p._callback)&&p._callback({time:Date.now()})),void a(o)}else{var n=document.querySelectorAll("img");for(t=0;t<n.length;t++){var r=it(e=n[t]);if(c<r){l=!0;break}r<=c&&!e.hasPushed&&(e.hasPushed=1,u.push(e))}}o=i(d)}if(o=i(d),"complete"===document.readyState)return l=h=!0,a(o),void d();document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("img").length||(l=!0,a(o),d())}),window.addEventListener("load",function(){l=h=!0,a(o),d()},!1)}};function it(t){if(!t)return 0;var e=t.offsetTop;return t.offsetParent&&(e+=it(t.offsetParent)),e}var at=function(){var o=this;this.name="PerformanceMonitor",this.setup=function(t){_()&&(o._callback=t,o._sendParams={ev_type:"perf",has_resource:0},C(function(){return o._perfLog()}),(new tt).setup(o._hasResource),(new ot).setup(o._hasFirstScreen))},this._hasResource=function(t){o._sendParams=l(l(l({},o._sendParams),t.event),{has_resource:1})},this._hasFirstScreen=function(t){_()&&(o._sendParams.firstscreen=t.time-window.performance.timing.navigationStart)},this._getParams=function(){if(_()){var t={},e=window.performance.timing;t.dns=e.domainLookupEnd-e.domainLookupStart,t.tcp=e.connectEnd-e.connectStart,t.request=e.responseStart-e.requestStart,t.response=e.responseEnd-e.responseStart,t.processing=e.domComplete-e.domLoading,t.blank=e.responseEnd-e.navigationStart,t.domready=e.domInteractive-e.navigationStart,t.load=e.loadEventEnd-e.navigationStart,e.secureConnectionStart&&(t.ssl=e.connectEnd-e.secureConnectionStart),t.domparse=e.domInteractive-e.responseEnd,t.resource=e.loadEventStart-e.domContentLoadedEventEnd,t.ttfb=e.responseStart-e.requestStart,t.redirct=e.redirectEnd-e.redirectStart;var n=o._getPaintTime("first-paint"),r=o._getPaintTime("first-contentful-paint");return n&&(t.fp=Math.round(n)),r&&(t.fcp=Math.round(r)),t.navigation=function(){if(!i())return window.performance.timing;var t=window.performance.getEntriesByType("navigation");return m(t)&&0!==t.length?t[0]:window.performance.timing}(),t}},this._getPaintTime=function(e){if(i()){var t=performance.getEntriesByType("paint");if(m(t)){var n=t.filter(function(t){return t.name===e});return 0===n.length?0:n[0].startTime}}return 0},this._perfLog=function(){setTimeout(function(){_()&&(o._sendParams=l(l({},o._sendParams),o._getParams()),o._sendParams.firstscreen||(o._sendParams.firstscreen=o._sendParams.domready),f(o._callback)&&o._callback({name:o.name,type:"post",event:o._sendParams}))},0)}};var st=function(){var i=this;this.name="PathMonitor",this.setup=function(t){a()&&(i._callback=t,i._start())},this._start=function(){i._monitorHashChange(),a()&&h(window.history)&&f(window.history.pushState)&&f(window.history.replaceState)&&(i._monitorPushState(),i._monitorReplaceState())},this._monitorHashChange=function(){window.addEventListener("hashchange",function(){var t=i._parseHash(location.hash);t&&i._pathChangeHandler(i._getPath(t),"hash")})},this._monitorPushState=function(){var n=i,r=window.history.pushState;r&&(window.history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n._handleHistoryStateChange.apply(n,p(t)),r.apply(this,t)})},this._monitorReplaceState=function(){var n=i,r=window.history.replaceState;r&&(window.history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n._handleHistoryStateChange.apply(n,p(t)),r.apply(this,t)})},this._pathChangeHandler=function(t,e){d(t)&&f(i._callback)&&i._callback({name:i.name,type:"get",event:{ev_type:"pageview",path:t,type:e}})},this._handleHistoryStateChange=function(t,e,n){var r=i._parseURL(n),o=i._parseURL(location.href);r&&o&&(r.pathname===o.pathname?r.hash===o.hash||i._pathChangeHandler(i._getPath(o.hash),"hash"):i._pathChangeHandler(i._getPath(r.pathname),"pathname"))},this._parseURL=function(t){if(!t)return null;if("string"!=typeof t)return null;if(t.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+t);try{return new URL(t)}catch(t){return null}},this._parseHash=function(t){return t?"string"!=typeof t?"":t.replace(/^#/,""):""},this._getPath=function(t){var e=t&&"string"==typeof t?t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return e=i._parseHash(e)}},ct=x(["bytecdn.cn","pstatp.com","snssdk.com","toutiao.com","365yg.com","byted.org"]),ut=(lt.prototype._sendHijackEvent=function(){f(this._callback)&&this._callback({name:this.name,type:"post",event:{ev_type:"hijack",events:this._events}})},lt);function lt(){var c=this;this.name="HijackMonitor",this.setup=function(t){a()&&(c._callback=t,c._start())},this._start=function(){C(function(){setTimeout(function(){c._antiHijack()},2e3)})},this._antiHijack=function(){c._checkScripts(),c._checkIframe(),c._sendHijackEvent()},this._checkScripts=function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var n=t[e],r=E(n.src);n.src?c._inWhiteListDomain(r.hostname)||c._events.push({hijack_type:"script",hijack_host:r.host,hijack_content:n.src}):c._inWhiteListContent(n.innerHTML)||c._events.push({hijack_type:"script",hijack_host:"unknown",hijack_content:n.innerHTML})}},this._checkIframe=function(){for(var t=document.getElementsByTagName("iframe"),e=0,n=t.length;e<n;e++){var r=t[e],o=r.src,i="about:blank";if(o&&o!==i){var a=E(o);0===a.protocol.indexOf("http")&&a.hostname&&c._inWhiteListIframeDomain(a.hostname)&&c._events.push({hijack_type:"iframe",hijack_host:a.host,hijack_content:o})}else if(o===i){var s="";try{r.contentDocument&&r.contentDocument.body&&r.contentDocument.body.innerHTML&&(s=r.contentDocument.body.innerHTML)}catch(t){s="Access is denied"}s&&c._events.push({hijack_type:"iframe",hijack_host:i,hijack_content:s})}}},this._inWhiteListDomain=function(t){return!(!ct||!ct.test(t))},this._inWhiteListContent=function(t){return!1},this._inWhiteListIframeDomain=function(t){return c._inWhiteListDomain(t)},this._events=[]}var ht=Object.prototype.hasOwnProperty,pt="~";function dt(){}function ft(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function mt(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new ft(n,r||t,o),a=pt?pt+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],i]:t._events[a].push(i):(t._events[a]=i,t._eventsCount++),t}function _t(t,e){0==--t._eventsCount?t._events=new dt:delete t._events[e]}function vt(){this._events=new dt,this._eventsCount=0}Object.create&&(dt.prototype=Object.create(null),(new dt).__proto__||(pt=!1)),vt.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)ht.call(t,e)&&n.push(pt?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},vt.prototype.listeners=function(t){var e=pt?pt+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},vt.prototype.listenerCount=function(t){var e=pt?pt+t:t,n=this._events[e];return n?n.fn?1:n.length:0},vt.prototype.emit=function(t,e,n,r,o,i){var a=pt?pt+t:t;if(!this._events[a])return!1;var s,c,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,i),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];u[c].fn.apply(u[c].context,s)}}return!0},vt.prototype.on=function(t,e,n){return mt(this,t,e,n,!1)},vt.prototype.once=function(t,e,n){return mt(this,t,e,n,!0)},vt.prototype.removeListener=function(t,e,n,r){var o=pt?pt+t:t;if(!this._events[o])return this;if(!e)return _t(this,o),this;var i=this._events[o];if(i.fn)i.fn!==e||r&&!i.once||n&&i.context!==n||_t(this,o);else{for(var a=0,s=[],c=i.length;a<c;a++)(i[a].fn!==e||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:_t(this,o)}return this},vt.prototype.removeAllListeners=function(t){var e;return t?(e=pt?pt+t:t,this._events[e]&&_t(this,e)):(this._events=new dt,this._eventsCount=0),this},vt.prototype.off=vt.prototype.removeListener,vt.prototype.addListener=vt.prototype.on,vt.prefixed=pt;var gt=new(vt.EventEmitter=vt);function yt(t){if(t&&d(t)&&a()&&h(document)&&f(document.createElement)){var e=document.createElement("script"),n=document.head;h(e)&&h(n)&&(e.src=t,e.async=!0,e.crossorigin="anonymous",f(n.appendChild)&&n.appendChild(e))}}var wt="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/sentry.2.1.17.71e8145f.js",St="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/behavior.2.1.17.ba349dc6.js",bt=function(){var t,e,h=this;this.version="2.1.21",this._setBaseParams=function(){h.baseParams.bid=h.shared.config.commonParams.bid||"",h.baseParams.pid=h.shared.config.commonParams.pid||""},this.instance=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0],i=n.slice(1);if("config"!==o){if(h._client)if("send"!==o)if("sendCustomCountLog"!==o)if("sendCustomTimeLog"!==o)if("precollect"!==o)if("Sentry"!==o){if("emit"===o){if(!n[1]||!n[2])return;var a={type:n[1],event:n[2]};h._client.emitEvent(a)}}else{var s=n[1];f(s)&&(h.shared.plugins&&h.shared.plugins.sentry?s(h.shared.plugins.sentry):h.shared.collect&&h.shared.collect.Sentry.push(i[0]))}else{if(h.shared.instance&&!h.shared.instance.length)return;if("error"!==n[1])return;if(!n[2]||!n[2][0])return;var c=n[2][0]||{};"error"===c.type&&(h.shared.monitors&&h.shared.monitors.StaticErrorMonitor&&f(h.shared.monitors.StaticErrorMonitor.staticErrorLog)&&h.shared.monitors.StaticErrorMonitor.staticErrorLog(c),h._collectSentryEvent(c))}else(e=h._client).sendCustomTimeLog.apply(e,p(i));else(t=h._client).sendCustomCountLog.apply(t,p(i));else h._send(i)}else{var u=n[1];h._configSetting=u,h._configSetting&&h._configSetting.onlyUseLocalSetting&&(h._serverSetting={});var l=h._normalizeSetting(u);h._client?h._client.updateConfig(l):h._init(l)}},this._collectSentryEvent=function(e){h.shared.plugins&&!h.shared.plugins.sentry&&(e.error?h.instance("Sentry",function(t){t.captureException(e.error)}):e.message&&h.instance("Sentry",function(t){t.captureMessage(e.message)}))},this._init=function(t){h.shared.monitors={StaticErrorMonitor:new $,PerformanceMonitor:new at,PathMonitor:new st,HijackMonitor:new ut,AjaxMonitor:new G,FetchMonitor:new Y};var e=[h.shared.monitors.StaticErrorMonitor,h.shared.monitors.PerformanceMonitor,h.shared.monitors.PathMonitor,h.shared.monitors.HijackMonitor,h.shared.monitors.AjaxMonitor,h.shared.monitors.FetchMonitor],n=l(l({},t),{defaultMonitors:e});h._client=new N(n),h.shared.instance&&m(h.shared.instance)&&h.shared.instance.push(n.commonParams.bid),h._getServerSetting(n.commonParams.bid),h._handlePrecollect()},this._handlePrecollect=function(){f(window.removeEventListener)&&window.Slardar&&window.Slardar.globalPreCollectError&&f(window.Slardar.globalPreCollectError)&&window.removeEventListener("error",window.Slardar.globalPreCollectError,!0),f(window.addEventListener)&&window.addEventListener("error",function(t){h._collectSentryEvent(t)})},this._send=function(t){if("count"===t[0]){var e=t[1],n=e.category,r=e.action;h._client.sendCustomCountLog(n,r)}if("timing"===t[0]){var o=t[1],i=(n=o.category,r=o.action,o.value);h._client.sendCustomTimeLog(n,r,i)}},this._getServerSetting=function(t){var e=h._serverSetting;if(e){var n=h._normalizeSetting(e);h._initServerSetting(n)}else{var r="https://"+(h._baseClientConfig.commonParams.report_domain||T)+"/slardar/sdk_setting?bid="+t;U.get(r,{success:function(t){try{var e=h._normalizeSetting(t.data);h._initServerSetting(e)}catch(t){h._initServerSetting(h._baseClientConfig)}},fail:function(){h._initServerSetting(h._baseClientConfig)}})}},this._initServerSetting=function(t){var e=h._normalizeSetting(t);h._client.updateConfig(e),Math.random()<e.commonParams.sample_rate&&(h._client.setupTransport(),h._client.sendPageview(),h.shared.transport=h._client._transport,h.shared.sendEvent=h._client.sendEvent),h._setCookie(e.commonParams.slardar_web_id),h.shared&&"script"===h.shared.installedType&&h._loadPlugins(t),h.shared&&h.shared.emitter&&h.shared.emitter.emit&&f(h.shared.emitter.emit)&&"npm"===h.shared.installedType&&h.shared.emitter.emit("pluginsReady",e)},this._loadPlugins=function(t){var e=t.plugins;e.sentry&&e.sentry.enable&&yt(e.sentry.download_link||wt),(e.behavior&&e.behavior.enable||e.sentry&&e.sentry.enable&&e.sentry.behavior_enable)&&yt(e.behavior.download_link||St)},this._setCookie=function(t){t&&(document.cookie=A+"="+t+";max-age=7776000;domain="+location.hostname+";path=/")},this._getSlardarWebId=function(){var t="";return document&&document.cookie&&(t=j(document.cookie,A)),t},this._normalizeSetting=function(t){void 0===t&&(t=h._baseClientConfig);var e=h._getClientCommonParams(t),n=h._getClientMonitorsSetting(t),r=h._getClientPluginsSetting(t),o=h._getClientCustom(t),i=y(h._baseClientConfig,{commonParams:e,plugins:r,monitors:n,custom:o},{commonParams:t.commonParams||{},plugins:t.plugins||{},monitors:t.monitors||{},custom:t.custom||{}},{commonParams:h._getClientCommonParams(h._configSetting),plugins:h._getClientPluginsSetting(h._configSetting),monitors:h._getClientMonitorsSetting(h._configSetting),custom:h._getClientCustom(h._configSetting)});return h.shared.config=i,h._setBaseParams(),h._baseClientConfig=i},this._getClientCommonParams=function(t){var n={},r=["bid","context","pid","sample_rate","slardar_session_id","slardar_web_id"];return g(t,function(t,e){S(r,t)&&(n[t]=e)}),t.cookieid&&(n.slardar_web_id=t.cookieid),v(t,"sampleRate")&&(n.sample_rate=t.sampleRate),t.reportDomain&&(n.report_domain=t.reportDomain),t.domain&&(n.report_domain=t.domain),n.slardar_web_id&&(n.slardar_web_id=n.slardar_web_id.toString()),n},this._getClientCustom=function(t){var e={};return f(t.beforeSend)&&(e.beforeSend=t.beforeSend),e},this._getClientMonitorsSetting=function(t){var e=l(l({},h._baseClientConfig.monitors),t.monitors||{});return t.ajaxWhitelistUrls&&(e.AjaxMonitor=l(l({},e.AjaxMonitor),{whitelistUrls:e.AjaxMonitor.whitelistUrls.concat(m(t.ajaxWhitelistUrls)?t.ajaxWhitelistUrls:[])})),t.ignoreAjax&&(e.AjaxMonitor=l(l({},e.AjaxMonitor),{ignore:e.AjaxMonitor.ignore.concat(m(t.ignoreAjax)?t.ignoreAjax:[])})),v(t,"hookFetch")&&(e.AjaxMonitor=l(l({},e.AjaxMonitor),{hookFetch:t.hookFetch})),v(t,"enableSizeStats")&&(e.AjaxMonitor=l(l({},e.AjaxMonitor),{hookFetch:t.hookFetch})),v(t,"geckoUrls")&&(e.PerformanceMonitor=l(l({},e.PerformanceMonitor||{}),{geckoUrls:t.geckoUrls})),t.ignoreStatic&&(e.StaticErrorMonitor=l(l({},e.StaticErrorMonitor),{ignore:e.StaticErrorMonitor.ignore.concat(m(t.ignoreStatic)?t.ignoreStatic:[])})),e},this._getClientPluginsSetting=function(t){return t.plugins||{}},this._baseClientConfig={defaultMonitors:[],commonParams:{version:this.version,hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:q,sample_rate:1,pid:location.pathname,report_domain:T,screen_resolution:a()&&window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"0x0",network_type:(t="unknown",(e=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&d(e.effectiveType)?e.effectiveType:t),bid:"",context:{},slardar_web_id:this._getSlardarWebId()||O},monitors:{AjaxMonitor:{ignore:H,hookFetch:!0,enableSizeStats:!1,abort:!1,whitelistUrls:[]},StaticErrorMonitor:{ignore:H},PerformanceMonitor:{resourceSampleRate:.1,slowSessionTime:8e3,geckoUrls:[],interval:0,checkPoint:[]},HijackMonitor:{sampleRate:.1}},plugins:{spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,patterns:[],download_link:St},sentry:{enable:0,behavior_enable:!1,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:wt,tags:{}}},custom:{beforeSend:function(t){return t}}},this._client=void 0,this._configSetting={},this.shared={config:this._baseClientConfig,transport:this._client?this._client._transport:void 0,emitter:gt,instance:[],collect:{Sentry:[],staticError:[]},plugins:{},monitors:{},sendEvent:void 0},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this._serverSetting={"cookieid":"93519bcc-10b7-4a14-8122-b76e298bb55c","reportDomain":"i.snssdk.com","bid":"juejin_web","plugins":{"spa":{"enable":1,"type":"pathname"},"behavior":{"enable":0,"slardar_web_ids":[],"sample_rate":0,"download_link":"https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/behavior.2.1.17.ba349dc6.js"},"sentry":{"enable":0,"download_link":"https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/sentry.2.1.17.71e8145f.js","behavior_enable":false,"behavior_sample_rate":0,"behavior_slardar_web_ids":[]}}}},Et=P;if(a()){var Pt=new bt;(Et=Pt.instance).version=Pt.version,Et.shared=Pt.shared,Et.SlardarBrowser=bt,Et._baseParams=Pt.baseParams,window.Slardar&&window.Slardar.shared&&window.Slardar.shared.instance&&window.Slardar.shared.instance.length?Et=window.Slardar:(window.Slardar&&window.Slardar.q&&(Et.q=window.Slardar.q),window.Slardar&&window.Slardar.globalPreCollectError&&(Et.globalPreCollectError=window.Slardar.globalPreCollectError),window.Slardar&&window.Slardar.i&&(Et.i=window.Slardar.i),window.Slardar=Et)}if(Et.shared&&(Et.shared.installedType="script"),window.Slardar&&window.Slardar.q){var kt=window.Slardar.q;m(kt)&&kt.forEach(function(t){Et.apply(void 0,p(t))}),delete window.Slardar.q}if(window.Slardar&&window.Slardar.i){var Ct=window.Slardar.i;m(Ct)&&Ct.forEach(function(t){var e=Lt();if(t.q){var n=t.q;m(n)&&n.forEach(function(t){e.apply(void 0,p(t))}),delete t.q}t.i=e}),delete window.Slardar.i}function Lt(){var t=new bt,e=t.instance;return e.version=t.version,e.shared=t.shared,e}return window.Slardar=Et,window.Slardar.SlardarBrowser=bt,window.Slardar.createInstance=Lt,Et}();
